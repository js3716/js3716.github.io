<!DOCTYPE html>
<html>


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="css/main.css" rel="stylesheet">  
</head>

<body>
    <div class="main-background" id="mainBackground">
        <div class="mainsub-background">
          <h3 id="announcement">
            <ul>
              <li>전 지역 택배로 나무를 배송</li>
              <li>가격은 택배비 포함입니다</li>
              <li>노지에서 비보약 먹고 자란 거라 뿌리가 튼튼하고 화분 째 하나 당 30분동안 꼼꼼하게 포장해서 우체국 택배로 안전하게 배송해서 뿌리가 다치지 않아 쑥쑥 큽니다</li>
              <li>2만원부터 다양한 나무가 더 많이 있으니 원하는 가격대가 있으시면 문자로 문의 주세요</li>
              <li>이름, 전화번호, 주소, 나무 번호를 010 5243 5798로 보내주세요</li>
            </ul>
          </h3>
          <button id="closeButton">닫기</button>
        </div>
      </div>
      <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <a href="http://127.0.0.1:5500/main.html" class="navbar-brand">판매사이트</a>
          <span class="navbar-brand" id="toggleButton">안내문</span>
          <a href="정보링크" class="navbar-brand">정보</a>
          <a href="https://blog.naver.com/feelsu38/223417697394" class="navbar-brand">꽃사진</a>
        </div>
      </nav>
    <div class="table-background" id="flowerTable"></div>
    <br> <br> <br> <br> <br>
    <button id="sortPriceBtn">가격순으로 정렬</button>

    <div class="sub-background">
        <label for="name" class="form-label">■ 이름 *</label><br>
        <input type="text" class="form-control mb-2" id="name" name="name" maxlength="50" placeholder="이름을 입력하세요"
            style="width: 50%; display: inline;" required><br>


        전화번호:
        <input type="number" value="010" style="width: 20%;" maxlength="4">-
        <input type="number" style="width: 20%;" maxlength="4">-
        <input type="number" style="width: 20%;" maxlength="4">

        <br>

        <label for="zipp_btn" class="form-label">■ 주소 *</label><br />
        <input type="text" class="form-control mb-2" id="zipp_code_id" name="zipp_code" maxlength="10"
            placeholder="우편번호" style="width: 15%; display: inline;">
        <input type="button" id="zipp_btn" class="btn btn-primary" onclick="execDaumPostcode()" value="우편번호 찾기"><br>
        <input type="text" class="form-control mb-2" name="user_add1" id="UserAdd1" maxlength="130"
            placeholder="기본 주소를 입력하세요" required>
        <div class="invalid-feedback">주소를 입력해주시기 바랍니다!</div>
        <input type="text" class="form-control" name="user_add2" id="UserAdd2" maxlength="130"
            placeholder="상세 주소를 입력하세요">
    </div>
    <!-- Google Form을 담을 div -->
    <div id="googleFormContainer" style="text-align: center;"></div>

    <script>
        // Google Form을 불러와서 특정 div에 삽입하는 함수
        function loadGoogleForm() {
            // Google Form의 링크를 여기에 넣어주세요
            var googleFormURL = "https://docs.google.com/forms/d/e/1FAIpQLSeCOgu-cizP_e61LwGZYn528jqisapX7LHqjtBv4WDbTRVqFg/viewform?usp=sf_link";

            // Google Form을 담을 div 선택
            var formContainer = document.getElementById("googleFormContainer");

            // Google Form iframe 생성
            var iframe = document.createElement("iframe");
            iframe.setAttribute("src", googleFormURL);
            iframe.setAttribute("width", "640");
            iframe.setAttribute("height", "800");
            iframe.setAttribute("frameborder", "0");
            iframe.setAttribute("marginheight", "0");
            iframe.setAttribute("marginwidth", "0");
            iframe.setAttribute("loading", "lazy");
            formContainer.appendChild(iframe);
        }

        // 페이지 로드 시 Google Form 로드
        window.onload = function () {
            loadGoogleForm();
        };
    </script>




    <script>
        var flowerData = [
            { name: '1', image: '1.png', price: '$20' },
            { name: '2', image: '2.png', price: '$15' },
            { name: '3', image: '3.png', price: '$20' },
            { name: '4', image: '4.png', price: '$40' },
            { name: '5', image: '5.png', price: '$30' },
        ];
        var flowerTable = document.getElementById('flowerTable');

        // 정렬 함수
        function sortFlowersByPrice() {
            flowerData.sort(function (a, b) {
                // 가격을 문자열에서 숫자로 변환하여 비교
                return parseFloat(a.price.slice(1)) - parseFloat(b.price.slice(1));
            });
            renderFlowers(); // 정렬 후 화면 갱신
        }

        // 화면에 꽃 정보를 출력하는 함수
        function renderFlowers() {
            var tableHTML = '<table>';
            flowerData.forEach(function (flower) {
                tableHTML += '<tr>';
                tableHTML += '<td style="width: 33%;"><img src="' + flower.image + '" alt="Pink Flower" style="height: 20%;"><br>' + flower.name + '번<br>가격: ' + flower.price + '</td>';
                tableHTML += '</tr>';
            });
            tableHTML += '</table>';
            flowerTable.innerHTML = tableHTML;
        }

        // 초기화면 출력
        renderFlowers();

        // 정렬 버튼 클릭 이벤트 추가
        document.getElementById('sortPriceBtn').addEventListener('click', sortFlowersByPrice);
        document.addEventListener("DOMContentLoaded", function() {
  const announcement = document.getElementById("announcement");
  const closeButton = document.getElementById("closeButton");
  const toggleButton = document.getElementById("toggleButton");
  const mainBackground = document.getElementById("mainBackground");

  closeButton.addEventListener("click", function() {
    mainBackground.style.display = "none"; // 안내문 숨기기
  });

  toggleButton.addEventListener("click", function() {
    if (mainBackground.style.display === "none") {
      mainBackground.style.display = "block"; // 안내문 보이기
    } else {
      mainBackground.style.display = "none"; // 안내문 숨기기
    }
  });
});
    </script>
    
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <!-- CDN 방식 사용 -->
  <script>
      function execDaumPostcode() {
          new daum.Postcode({
              oncomplete: function (data) {
                  var addr = ''; // 주소_결과값이 없을 경우 공백 
                  var extraAddr = ''; // 참고항목
  
                  // 사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                  if (data.userSelectedType === 'R') { // 도로명 주소를 선택
                      addr = data.roadAddress;
                  } else { // 지번 주소를 선택
                      addr = data.jibunAddress;
                  }
  
                  if (data.userSelectedType === 'R') {
                      if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
                          extraAddr += data.bname;
                      }
                      if (data.buildingName !== '' && data.apartment === 'Y') {
                          extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                      }
                      if (extraAddr !== '') {
                          extraAddr = ' (' + extraAddr + ')';
                      }
                  } else {
                      document.getElementById("UserAdd1").value = '';
                  }
  
                  // 선택된 우편번호와 주소 정보를 input 박스에 넣는다.
                  document.getElementById('zipp_code_id').value = data.zonecode;
                  document.getElementById("UserAdd1").value = addr;
                  document.getElementById("UserAdd1").value += extraAddr;
                  document.getElementById("UserAdd2").focus(); // 우편번호 + 주소 입력이 완료되었음으로 상세주소로 포커스 이동
  
                  // 주소를 textarea에 넣는 함수
                  function insertAddressToTextarea(address) {
                      var textarea = document.querySelector('.edhGSc.zKHdkd.kRy7qc.RdH0ib.yqQS1.CDELXb textarea.KHxj8b.tL9Q4c');
                      textarea.value = address;
                  }
  
                  // textarea에 주소를 추가
                  var fullAddress = addr + extraAddr;
                  insertAddressToTextarea(fullAddress);
              }
          }).open();
      }
  </script>
  
</body>

</html>