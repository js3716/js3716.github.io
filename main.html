<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link href="css/main.css" rel="stylesheet">
    <!-- css를 사용할 거면 css파일 만들고 link를 사용 -->
</head>

<body>
    <div class="main-background">
        <h4 class="main-title"> Buy Our flower!</h4>
        <div class="sub-background">
            <h3>
                <ul>
                    <li>전 지역 택배로 나무를 배송</li>
                    <li>가격은 택배비 포함입니다</li>
                    <li>노지에서 비보약 먹고 자란 거라 뿌리가 튼튼하고 화분 째 하나 당 30분동안 꼼꼼하게 포장해서 우체국 택배로 안전하게 배송해서 뿌리가 다치지 않아 쑥쑥 큽니다</li>
                    <li>2만원부터 다양한 나무가 더 많이 있으니 원하는 가격대가 있으시면 문자로 문의 주세요</li>
                    <li>이름, 전화번호, 주소, 나무 번호를 010 5243 5798로 보내주세요</li>
                </ul>
            </h3>
        </div>
    </div>
    <div class="table-background" id="flowerTable"></div>
    <br> <br> <br> <br> <br>

    <div class="sub-background">
        <label for="zipp_btn" class="form-label">■ 주소 *</label><br />
        <input type="text" class="form-control mb-2" id="zipp_code_id" name="zipp_code" maxlength="10"
            placeholder="우편번호" style="width: 50%; display: inline;">
        <input type="button" id="zipp_btn" class="btn btn-primary" onclick="execDaumPostcode()" value="우편번호 찾기"><br>
        <input type="text" class="form-control mb-2" name="user_add1" id="UserAdd1" maxlength="40"
            placeholder="기본 주소를 입력하세요" required>
        <div class="invalid-feedback">주소를 입력해주시기 바랍니다!</div>
        <input type="text" class="form-control" name="user_add2" id="UserAdd2" maxlength="40"
            placeholder="상세 주소를 입력하세요">
    </div>
    <script>
        var flowerData = [
            { name: '1', image: '1.png', price: '$10' },
            { name: '2', image: '2.png', price: '$15' },
            { name: '3', image: '3.png', price: '$20' },
            { name: '4', image: '4.png', price: '$40' },
            { name: '5', image: '5.png', price: '$30' },
        ];

        var flowerTable = document.getElementById('flowerTable');
        var tableHTML = '<table>';
        flowerData.forEach(function (flower) {
            tableHTML += '<tr>';
            tableHTML += '<td style="width: 33%;"><img src="' + flower.image + '" alt="Pink Flower" style="height: 20%;"><br>' + flower.name + '번<br>가격: ' + flower.price + '</td>';
            tableHTML += '</tr>';
        });
        tableHTML += '</table>';
        flowerTable.innerHTML = tableHTML;
    </script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <!-- CDN 방식 사용 -->
    <script>
        function execDaumPostcode() {
            new daum.Postcode({
                oncomplete: function (data) {
                    // 팝업을 통한 검색 결과 항목 클릭 시 실행
                    var addr = ''; // 주소_결과값이 없을 경우 공백 
                    var extraAddr = ''; // 참고항목

                    //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                    if (data.userSelectedType === 'R') { // 도로명 주소를 선택
                        addr = data.roadAddress;
                    } else { // 지번 주소를 선택
                        addr = data.jibunAddress;
                    }

                    if (data.userSelectedType === 'R') {
                        if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
                            extraAddr += data.bname;
                        }
                        if (data.buildingName !== '' && data.apartment === 'Y') {
                            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                        }
                        if (extraAddr !== '') {
                            extraAddr = ' (' + extraAddr + ')';
                        }
                    } else {
                        document.getElementById("UserAdd1").value = '';
                    }

                    // 선택된 우편번호와 주소 정보를 input 박스에 넣는다.
                    document.getElementById('zipp_code_id').value = data.zonecode;
                    document.getElementById("UserAdd1").value = addr;
                    document.getElementById("UserAdd1").value += extraAddr;
                    document.getElementById("UserAdd2").focus(); // 우편번호 + 주소 입력이 완료되었음으로 상세주소로 포커스 이동
                }
            }).open();
        }
    </script>
</body>

</html>